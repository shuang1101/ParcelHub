@model ParcelHub.Models.Parcel
@inject ParcelHub.DatabaseConnection.ApplicationDbContext applicationDbContext
@{
    ViewData["title"] = "Creat New Shippment";
    Layout = "_Layout";
}



@*WARNING! ConsumerParcelController set the iterator for reading REQUEST at
 for (int i = 0; i < (form.Count) / 8; i++) please consider this before make changes for "name" in div*@

<form asp-controller="ConsumerParcels" asp-action="Create" method="post">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <div class="row" style="border:1px dotted red">
        <div class="col-md-4" style="border:1px dotted red">
            <div class="col">
                <label>Origin</label>
                <br />
                <label>Origin deport for</label>
                <div class="form-group">
                    <label class="control-label"> Depot of origin</label>
                    @*country of origin*@
                    <select class="form-control" id="chooseWarehouse" onchange="box()" asp-for="OriginSPWarehouseModelId">
                        @foreach (var warehouse in applicationDbContext.SPWarehouseModel)
                        {
                            <option value="@warehouse.Id"> @warehouse.CompanyName (@warehouse.City - @warehouse.CountryOfWarehouseModelCountryName; ) </option>
                        }
                    </select>

                </div>

                @section Scripts
                {
                    <script type="text/javascript">
                        window.onload = box();
                        //window.onload = receiverAddress();
                    </script>
                }

                <div class="form-group">
                    <label class="control-label">Address</label>
                    <input class="form-control" disabled id="address" /> @*ajax passing value by id => see mysite. js*@
                </div>
                <div class="form-group">
                    <label class="control-label">Address</label>
                    <input class="form-control" disabled id="address1" />@*ajax passing value by id => see mysite. js*@
                </div>
                <div class="form-group">
                    <label class="control-label">Post Code</label>
                    <input class="form-control" disabled id="postcode" />@*ajax passing value by id => see mysite. js*@
                </div>
                <div class="form-group">
                    <label class="control-label">Mobile</label>
                    <input class="form-control" disabled id="mobile" />@*ajax passing value by id => see mysite. js*@
                </div>
                <div class="form-group">
                    <label class="control-label">Receiver Name</label>
                    <input class="form-control" disabled id="receiver" />@*ajax passing value by id => see mysite. js*@
                </div>  
            </div>
        </div>

        <div class="col-md-1">


            <select class="form-control" asp-for="TransportMethod" required />
            <option value=@null>Choose shipping method</option>
            <option value="air">Air shipping</option>
            <option value="ocean">Ocean Shipping</option>

            </select>

        </div>
        <div class="col-md-4" style="border:1px dotted red">
            <div class="col">
                <label>Destination</label>
                <br />
                <label>Follow address is you want to package sent to in Destination Country</label>

                <div class="form-group">
                    @if (@ViewBag.NoAddress == true)
                    {
                        <label>You do not have any saved address</label>
                    }
                    else
                    {
                        <label>Use my saved address</label>
                        <select class="form-control" asp-for="ConsumerAddressId" id="receiverAddress" required>
                            <option value="@null">Choose your address</option>

                            @foreach (var item in ViewBag.ListOfAddress)
                            {
                                <option value=@item.Id>@item.NameOfMyAddress</option>
                            }

                        </select>
                    }

                  

                    <a class="btn btn-primary" asp-controller="ConsumerAddresses" asp-action="Index">Create a address    </a>


                    <div class="form-group">
                        <label class="control-label"> Receiver Name</label>
                        <input class="form-control" id="receiverName" disabled />
                    </div>

                    <div class="form-group">
                        <label class="control-label ">Country</label>
                        <input class="form-control" id="country" disabled />
                    </div>

                    <div class="form-group">
                        <label class="control-label ">Street Name</label>
                        <input class="form-control" id="StreetAddress" disabled />
                    </div>
                    <div class="form-group">
                        <label class="control-label">Suburb</label>
                        <input class="form-control" id="Suburb" disabled />
                    </div>
                    <div class="form-group">
                        <label class="control-label">City</label>
                        <input class="form-control" id="City" disabled />
                    </div>
                    <div class="form-group">
                        <label class="control-label ">State</label>
                        <input class="form-control" id="State" disabled />
                    </div>


                    <div class="form-group">
                        <label class="control-label">Post Code</label>
                        <input class="form-control" id="PostCode" disabled />
                    </div>
                    <div class="form-group">
                        <label>Destination deliver options</label>
                        <select class="form-control" asp-for="DestinationDeliverMethod" required>
                            <option value="@null">Destination delivery method</option>
                            <option value="DelivertoDoor">Deliver to Door</option>
                            <option value="Pickup">Pickup from depot</option>
                        </select>


                    </div>

                </div>
            </div>
        </div>
     
        <div class="row" style="border:1px dotted red">
            <div class="form-horizontal">
                <div class="table-responsive">
                    <table class="table table-bordered table-striped table-highlight">
                        <thead>
                            <tr>
                                <th>Shipping Company @@ origin</th>
                                <th>Tracking Number @@ origin</th>
                                <th>Goods Description</th>
                                <th>Weight</th>
                                <th>Volume</th>
                                <th>NumberOfUnits</th>
                                <th>Total Value</th>
                                <th>Reference</th>
                            </tr>
                        </thead>

                        <tbody id="firstdiv">

                            <tr>
                                <td><input type="text" class="form-control" name="ShippingCompanyAtOrigin[0]" required /></td>
                                <td><input type="text" class="form-control" name="OriginTrackingNumber[0]" required /></td>
                                <td><input type="text" class="form-control" name="Description[0]" required /></td>
                                <td><input type="text" class="form-control" name="EstimateWeight[0]"required/></td>
                                <td><input type="text" class="form-control" name="EstimateVolume[0]" /></td>
                                <td><input type="number" class="form-control" name="NumberOfUnits[0]" required /></td>
                                <td><input type="number" class="form-control" name="TotalValue[0]" required /></td>
                                <td><input type="text" class="form-control" name="Reference[0]" /></td>
                               
                                <td> <input type="button" onclick="DynamicText()" value="Add line" /> </td>

                            </tr>

                        </tbody>


                    </table>


                </div>


            </div>





            <div class="form-group">
                <input type="submit" value="Confirm Shippment" class="btn btn-primary" />
            </div>





        </div>

</form>